[gd_scene load_steps=27 format=3 uid="uid://bi1n11fpagjn5"]

[ext_resource type="Script" path="res://scripts/level_logic.gd" id="1_ml7tf"]
[ext_resource type="PackedScene" uid="uid://byy136decqre" path="res://scenes/tile_map.tscn" id="2_h0wop"]
[ext_resource type="Script" path="res://scripts/Characters/Characters.gd" id="3_vsr5m"]
[ext_resource type="PackedScene" uid="uid://b0wysm6c2nqgj" path="res://scenes/Characters/player.tscn" id="4_npgx5"]
[ext_resource type="PackedScene" uid="uid://bad5nytk5iv33" path="res://scenes/Characters/shadow.tscn" id="5_mqv7b"]
[ext_resource type="AudioStream" uid="uid://dypqcaajjr6b4" path="res://sounds/music/Atmosphere music.ogg" id="6_taf71"]
[ext_resource type="Script" path="res://scenes/levels/level_5_memory.gd" id="7_mdt76"]
[ext_resource type="PackedScene" uid="uid://cy0rdwr1vqbh" path="res://scenes/memory_item.tscn" id="8_gm4jt"]
[ext_resource type="PackedScene" uid="uid://di76etlbhuure" path="res://scenes/Characters/spawnpoint.tscn" id="9_y8dce"]
[ext_resource type="PackedScene" uid="uid://cfc0erykqg0dd" path="res://scenes/UI/pause_menu.tscn" id="10_rmwyp"]
[ext_resource type="Shader" path="res://shaders/godrays.gdshader" id="11_r414m"]
[ext_resource type="Shader" path="res://shaders/rain.gdshader" id="12_wcubs"]
[ext_resource type="Script" path="res://scenes/levels/level_5_lights.gd" id="13_xqgmf"]
[ext_resource type="PackedScene" uid="uid://cuq5r26worhtc" path="res://scenes/light.tscn" id="14_glquh"]
[ext_resource type="Script" path="res://scripts/potion_logic.gd" id="17_5xll2"]
[ext_resource type="PackedScene" uid="uid://dc0hojvx42pl5" path="res://scenes/ingredient_item.tscn" id="18_t7lhd"]
[ext_resource type="Texture2D" uid="uid://cix2df5nke8eh" path="res://assets/alchemy/ingredients/herb.png" id="19_d0w03"]
[ext_resource type="Texture2D" uid="uid://cexkm4xiejjak" path="res://assets/alchemy/ingredients/herb_n.png" id="20_w3353"]
[ext_resource type="Texture2D" uid="uid://c32dufyhh6unv" path="res://assets/alchemy/ingredients/mushroom.png" id="21_faix4"]
[ext_resource type="PackedScene" uid="uid://dx2o1vai6jl20" path="res://scenes/UI/potion_ui.tscn" id="21_pcxj0"]
[ext_resource type="PackedScene" uid="uid://cmbnro68tdb7l" path="res://scenes/Characters/PossessableCharacters/box.tscn" id="22_0f1fg"]
[ext_resource type="Texture2D" uid="uid://btey3e1cch462" path="res://assets/alchemy/ingredients/mushroom_n.png" id="22_hrcib"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0bq84"]
shader = ExtResource("11_r414m")
shader_parameter/angle = -0.3
shader_parameter/position = -0.2
shader_parameter/spread = 0.372
shader_parameter/cutoff = 0.026
shader_parameter/falloff = 0.407
shader_parameter/edge_fade = 0.15
shader_parameter/speed = 2.0
shader_parameter/ray1_density = 8.0
shader_parameter/ray2_density = 30.0
shader_parameter/ray2_intensity = 0.406
shader_parameter/color = Color(1, 0.9, 0.65, 0.8)
shader_parameter/hdr = false
shader_parameter/seed = 5.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cdr1k"]
shader = ExtResource("12_wcubs")
shader_parameter/count = 300
shader_parameter/slant = 0.2
shader_parameter/speed = 50.0
shader_parameter/blur = 0.0015
shader_parameter/colour = Color(1, 1, 1, 1)
shader_parameter/size = Vector2(0.005, 0.2)

[sub_resource type="CanvasTexture" id="CanvasTexture_27h57"]
diffuse_texture = ExtResource("19_d0w03")
normal_texture = ExtResource("20_w3353")

[sub_resource type="CanvasTexture" id="CanvasTexture_81i1x"]
diffuse_texture = ExtResource("21_faix4")
normal_texture = ExtResource("22_hrcib")

[node name="Level" type="Node2D"]
script = ExtResource("1_ml7tf")

[node name="TileMap" parent="." instance=ExtResource("2_h0wop")]
unique_name_in_owner = true
layer_0/tile_data = PackedInt32Array(65537, 327680, 8, 65538, 327680, 8, 65539, 327680, 8, 65540, 327680, 8, 65541, 327680, 8, 65542, 327680, 8, 65543, 327680, 8, 65544, 327680, 8, 65545, 327680, 8, 65546, 327680, 8, 65547, 327680, 8, 65548, 327680, 8, 65549, 327680, 8, 65550, 393216, 8, 131086, 393216, 8, 131085, 327680, 8, 131084, 327680, 8, 131083, 327680, 8, 131082, 327680, 8, 131081, 327680, 8, 131080, 327680, 8, 131079, 327680, 8, 131078, 327680, 8, 131077, 327680, 8, 131076, 327680, 8, 131075, 327680, 8, 131074, 327680, 8, 131073, 327680, 8, 196609, 327680, 8, 196610, 327680, 8, 196611, 327680, 8, 196612, 327680, 8, 196613, 327680, 8, 196614, 327680, 8, 196615, 327680, 8, 196616, 327680, 8, 196617, 327680, 8, 196618, 327680, 8, 196619, 327680, 8, 196620, 327680, 8, 196621, 327680, 8, 196622, 393216, 8, 262157, 327680, 8, 262156, 327680, 8, 262155, 327680, 8, 262154, 327680, 8, 327690, 393216, 8, 327689, 393216, 8, 327687, 327680, 8, 327686, 327680, 8, 327685, 327680, 8, 327684, 327680, 8, 327682, 327680, 8, 327681, 327680, 8, 262145, 327680, 8, 262146, 327680, 8, 262147, 327680, 8, 262148, 327680, 8, 262149, 327680, 8, 262150, 327680, 8, 262151, 327680, 8, 262153, 393216, 8, 327691, 327680, 8, 393227, 393216, 8, 393228, 327680, 8, 327692, 327680, 8, 327693, 327680, 8, 327694, 327680, 8, 393230, 327680, 8, 458766, 327680, 8, 458765, 327680, 8, 393229, 327680, 8, 458764, 393216, 8, 458763, 393216, 8, 458762, 393216, 8, 458760, 327680, 8, 458759, 327680, 8, 458758, 327680, 8, 458757, 327680, 8, 458756, 327680, 8, 458755, 327680, 8, 458754, 327680, 8, 458753, 327680, 8, 393217, 327680, 8, 393218, 327680, 8, 393219, 327680, 8, 393220, 327680, 8, 393221, 327680, 8, 393222, 327680, 8, 393223, 327680, 8, 393226, 393216, 8, 524289, 65536, 8, 589825, 393216, 8, 655361, 393216, 8, 720897, 393216, 8, 786433, 393216, 8, 851969, 393216, 8, 917505, 393216, 8, 917506, 393216, 8, 917507, 393216, 8, 917508, 393216, 8, 917509, 393216, 8, 917510, 393216, 8, 917511, 1376256, 5, 917512, 1441792, 5, 917513, 1441792, 5, 917514, 1441792, 5, 917515, 1441792, 5, 917516, 1441792, 5, 917517, 1441792, 5, 917518, 1507328, 5, 917519, 393216, 8, 917520, 393216, 8, 917521, 393216, 8, 917522, 393216, 8, 917523, 393216, 8, 917524, 393216, 8, 917525, 393216, 8, 917526, 393216, 8, 917527, 393216, 8, 917528, 393216, 8, 917529, 393216, 8, 917530, 393216, 8, 917531, 393216, 8, 917532, 393216, 9, 786460, 393216, 8, 786459, 393216, 8, 851995, 393216, 8, 851994, 393216, 8, 851993, 393216, 8, 851992, 393216, 8, 786457, 393216, 8, 786458, 393216, 8, 786456, 393216, 8, 786455, 393216, 8, 786454, 393216, 8, 786453, 393216, 8, 851989, 393216, 8, 851988, 393216, 8, 851987, 393216, 8, 851990, 393216, 8, 851991, 393216, 8, 851986, 393216, 8, 851985, 393216, 8, 851984, 393216, 8, 851983, 393216, 8, 851982, 196608, 1342177288, 786450, 393216, 8, 786451, 393216, 8, 786452, 393216, 8, 786449, 393216, 8, 786448, 393216, 8, 786447, 393216, 8, 786446, 196608, 1342177288, 786445, 1376256, 7, 786444, 1376256, 7, 786443, 1376256, 7, 851981, 1376256, 7, 851980, 1376256, 7, 851979, 1376256, 7, 851978, 1376256, 7, 851977, 1376256, 7, 786442, 1376256, 7, 786441, 1376256, 7, 786440, 1376256, 7, 786439, 196608, 1610612744, 851976, 1376256, 7, 851975, 196608, 1610612744, 851974, 393216, 8, 851973, 393216, 8, 851972, 393216, 8, 851971, 393216, 8, 851970, 393216, 8, 786436, 393216, 8, 786435, 393216, 8, 786437, 393216, 8, 786438, 393216, 8, 786434, 393216, 8, 720898, 393216, 8, 720899, 393216, 8, 720900, 393216, 8, 720901, 393216, 8, 720902, 393216, 8, 720903, 1376256, 4, 655363, 393216, 8, 655362, 393216, 8, 655364, 393216, 8, 655365, 393216, 8, 655366, 393216, 8, 655367, 393216, 8, 655368, 393216, 8, 589827, 393216, 8, 589828, 393216, 8, 589829, 393216, 8, 589830, 393216, 8, 589831, 393216, 8, 589832, 393216, 8, 589826, 393216, 8, 524291, 393216, 8, 524290, 393216, 8, 524292, 393216, 8, 524293, 393216, 8, 524294, 393216, 8, 524295, 393216, 8, 524296, 393216, 8, 524298, 393216, 8, 524299, 393216, 8, 524300, 393216, 8, 524301, 393216, 8, 589838, 393216, 8, 589839, 393216, 8, 589840, 393216, 8, 589841, 393216, 8, 524304, 393216, 8, 524303, 393216, 8, 524302, 393216, 8, 589833, 393216, 8, 589834, 393216, 8, 589835, 393216, 8, 589836, 393216, 8, 589837, 393216, 8, 655372, 393216, 8, 655371, 393216, 8, 655370, 393216, 8, 655369, 393216, 8, 655373, 393216, 8, 655374, 393216, 8, 655375, 393216, 8, 720904, 1441792, 4, 720905, 1441792, 4, 720906, 1441792, 4, 720907, 1441792, 4, 720908, 1441792, 4, 720909, 1441792, 4, 720910, 1507328, 4, 720911, 393216, 8, 655376, 393216, 8, 655377, 393216, 8, 655378, 393216, 8, 655379, 393216, 8, 720915, 393216, 8, 720914, 393216, 8, 720913, 393216, 8, 720912, 393216, 8, 720916, 393216, 8, 720917, 393216, 8, 720918, 393216, 8, 655383, 393216, 8, 655384, 393216, 8, 655385, 393216, 8, 655386, 393216, 8, 655387, 393216, 8, 720923, 393216, 8, 720924, 393216, 8, 720922, 393216, 8, 720921, 393216, 8, 720920, 393216, 8, 720919, 393216, 8, 655382, 393216, 8, 655381, 393216, 8, 655380, 393216, 8, 589844, 393216, 8, 589843, 393216, 8, 589842, 393216, 8, 589845, 393216, 8, 589846, 393216, 8, 589847, 393216, 8, 589848, 393216, 8, 524312, 393216, 8, 524313, 393216, 8, 524311, 393216, 8, 524310, 393216, 8, 524309, 393216, 8, 524308, 393216, 8, 524307, 393216, 8, 524306, 393216, 8, 524305, 393216, 8, 458772, 393216, 8, 458771, 393216, 8, 458770, 393216, 8, 458769, 393216, 8, 458768, 393216, 8, 458767, 393216, 8, 393237, 393216, 8, 393238, 393216, 8, 393239, 393216, 8, 393236, 393216, 8, 393235, 393216, 8, 393234, 393216, 8, 393233, 393216, 8, 393232, 393216, 8, 327696, 393216, 8, 393231, 393216, 8, 327697, 393216, 8, 327698, 393216, 8, 327699, 393216, 8, 327700, 393216, 8, 327701, 393216, 8, 327702, 393216, 8, 327703, 393216, 8, 262164, 393216, 8, 262163, 393216, 8, 262162, 393216, 8, 262161, 393216, 8, 262160, 393216, 8, 262159, 393216, 8, 262165, 393216, 8, 262166, 393216, 8, 262167, 393216, 8, 327695, 393216, 8, 262168, 393216, 8, 262169, 393216, 8, 196630, 393216, 8, 196629, 393216, 8, 196628, 393216, 8, 196627, 393216, 8, 196626, 393216, 8, 196625, 393216, 8, 196623, 393216, 8, 196631, 393216, 8, 131088, 393216, 8, 131087, 393216, 8, 131089, 393216, 8, 131090, 393216, 8, 131091, 393216, 8, 131092, 393216, 8, 131093, 393216, 8, 131094, 393216, 8, 65552, 393216, 8, 65551, 393216, 8, 65553, 393216, 8, 65554, 393216, 8, 65555, 393216, 8, 65556, 393216, 8, 65557, 393216, 8, 65558, 393216, 8, 65559, 393216, 8, 65560, 393216, 8, 65561, 393216, 8, 65562, 393216, 8, 65563, 393216, 8, 65564, 393216, 8, 131100, 393216, 8, 196636, 393216, 8, 262172, 393216, 8, 327708, 393216, 8, 393244, 393216, 8, 458780, 393216, 8, 524316, 393216, 8, 589852, 393216, 8, 655388, 393216, 8, 589851, 393216, 8, 589850, 393216, 8, 589849, 393216, 8, 524314, 393216, 8, 524315, 393216, 8, 458779, 393216, 8, 458778, 393216, 8, 458777, 393216, 8, 458776, 393216, 8, 458775, 393216, 8, 458774, 393216, 8, 458773, 393216, 8, 393240, 393216, 8, 393241, 393216, 8, 327705, 393216, 8, 327706, 393216, 8, 327707, 393216, 8, 393243, 393216, 8, 393242, 393216, 8, 327704, 393216, 8, 262170, 393216, 8, 262171, 393216, 8, 196635, 393216, 8, 196634, 393216, 8, 196633, 393216, 8, 196632, 393216, 8, 131095, 393216, 8, 131096, 393216, 8, 131097, 393216, 8, 131098, 393216, 8, 131099, 393216, 8, 458761, 393216, 8, 393225, 393216, 8, 524297, 393216, 8, 393224, 393216, 8, 327688, 393216, 8, 262152, 393216, 8, 851996, 393216, 8, 196624, 393216, 8, 262158, 393216, 8)
layer_1/tile_data = PackedInt32Array(0, 0, 6, 1, 65536, 6, 2, 65536, 6, 3, 65536, 6, 4, 65536, 6, 5, 65536, 6, 6, 65536, 6, 7, 65536, 6, 8, 65536, 6, 9, 65536, 6, 10, 65536, 6, 11, 65536, 6, 12, 65536, 6, 13, 65536, 6, 14, 65536, 6, 65536, 589824, 8, 131072, 589824, 8, 196608, 589824, 8, 262144, 589824, 8, 327680, 589824, 8, 393216, 589824, 8, 458752, 0, 9, 524288, 0, 9, 589824, 0, 9, 15, 327680, 6, 16, 327680, 6, 17, 327680, 6, 18, 327680, 6, 19, 327680, 6, 917504, 589824, 8, 983040, 0, 10, 1048576, 0, 11, 983041, 524288, 10, 1048577, 65536, 11, 983042, 524288, 10, 1048578, 65536, 11, 983043, 524288, 10, 1048579, 65536, 11, 983044, 524288, 10, 1048580, 65536, 11, 983045, 524288, 10, 1048581, 524288, 11, 983046, 524288, 10, 1048582, 262144, 11, 983047, 524288, 10, 1048583, 262144, 11, 983048, 524288, 10, 1048584, 262144, 11, 983049, 524288, 10, 1048585, 327680, 11, 983050, 524288, 10, 1048586, 524288, 11, 983051, 524288, 10, 1048587, 524288, 11, 983052, 524288, 10, 1048588, 524288, 11, 983053, 524288, 10, 1048589, 524288, 11, 983054, 524288, 10, 1048590, 524288, 11, 655360, 0, 8, 720896, 0, 8, 786432, 0, 8, 851968, 0, 8, 983055, 458752, 10, 983056, 458752, 10, 983057, 458752, 10, 983058, 458752, 10, 983059, 458752, 10, 1048595, 524288, 11, 1048594, 524288, 11, 1048593, 524288, 11, 1048592, 524288, 11, 1048591, 524288, 11, 65537, 131072, 7, 65538, 983040, 7, 65539, 917504, 7, 65540, 131072, 7, 65541, 131072, 7, 65542, 327680, 7, 65543, 393216, 7, 65544, 131072, 7, 65545, 131072, 7, 65546, 131072, 7, 65547, 131072, 7, 65548, 131072, 7, 65549, 786432, 7, 65550, 851968, 7, 65551, 1507328, 9, 65552, 65536, 7, 65553, 131072, 7, 65554, 131072, 7, 65555, 196608, 7, 917510, 196608, 3, 851974, 196608, 2, 786438, 196608, 2, 720902, 196608, 0, 917519, 1507328, 10, 851983, 589824, 9, 786447, 589824, 9, 720911, 589824, 7, 131087, 589824, 8, 196623, 589824, 10, 327681, 65536, 2, 327682, 786432, 7, 327683, 851968, 7, 327684, 327680, 2, 262145, 65536, 1, 262146, 131072, 1, 262147, 131072, 1, 262148, 327680, 1, 655374, 458752, 6, 655373, 524288, 7, 655372, 458752, 7, 589836, 0, 7, 524300, 0, 7, 458764, 1507328, 8, 393228, 1507328, 8, 327692, 0, 6, 327693, 589824, 10, 262157, 0, 6, 262158, 589824, 10, 196622, 0, 6, 720910, 458752, 7, 524312, 655360, 2, 589848, 655360, 2, 655384, 589824, 9, 720920, 589824, 9, 393241, 196608, 6, 458777, 786432, 1, 786457, 524288, 7, 851993, 458752, 11, 196634, 196608, 6, 262170, 327680, 7, 393242, 196608, 6, 458778, 851968, 7, 786458, 524288, 7, 28, 262144, 6, 65564, 983040, 7, 983068, 458752, 10, 1048604, 524288, 11, 29, 458752, 6, 65565, 589824, 8, 131101, 589824, 8, 196637, 589824, 8, 262173, 589824, 8, 327709, 589824, 8, 393245, 589824, 8, 458781, 589824, 8, 524317, 589824, 8, 589853, 589824, 8, 655389, 589824, 8, 720925, 589824, 8, 786461, 589824, 8, 851997, 589824, 9, 917533, 589824, 8, 983069, 589824, 10, 1048605, 589824, 11, 983060, 458752, 10, 983061, 458752, 10, 983062, 458752, 10, 983063, 458752, 10, 983064, 458752, 10, 983065, 458752, 10, 983066, 458752, 10, 983067, 458752, 10, 1048596, 458752, 11, 1048597, 327680, 11, 1048598, 458752, 11, 1048599, 458752, 11, 1048600, 458752, 11, 1048601, 458752, 11, 1048602, 458752, 11, 1048603, 458752, 11, 65556, 196608, 7, 65557, 458752, 11, 65558, 458752, 11, 65559, 458752, 11, 65560, 458752, 11, 65561, 851968, 7, 65562, 458752, 11, 65563, 458752, 11, 20, 458752, 10, 21, 458752, 10, 22, 458752, 10, 23, 458752, 10, 24, 458752, 10, 25, 458752, 10, 26, 458752, 10, 27, 458752, 10, 196635, 458752, 10, 196633, 458752, 10, 196632, 458752, 10, 393240, 0, 6, 393243, 458752, 10, 786459, 458752, 10, 786456, 0, 10, 458776, 0, 7, 458779, 458752, 11, 262169, 458752, 11, 262168, 458752, 11, 262171, 458752, 11, 851992, 851968, 7, 851994, 1048576, 7, 851995, 458752, 11, 851982, 720896, 9, 917520, 65536, 8, 917532, 720896, 9)

[node name="Characters" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("3_vsr5m")

[node name="Player" parent="Characters" instance=ExtResource("4_npgx5")]
position = Vector2(224, 864)

[node name="Shadow" parent="Characters" instance=ExtResource("5_mqv7b")]
position = Vector2(168, 224)

[node name="Music" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("6_taf71")
volume_db = -4.559
autoplay = true

[node name="LevelMemory" type="Node" parent="."]
unique_name_in_owner = true
script = ExtResource("7_mdt76")

[node name="MemoryItem" parent="." instance=ExtResource("8_gm4jt")]
unique_name_in_owner = true
position = Vector2(1696, 608)

[node name="Spawnpoint" parent="." instance=ExtResource("9_y8dce")]
unique_name_in_owner = true
position = Vector2(160, 224)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(960, 544)

[node name="PauseMenu" parent="Camera2D" instance=ExtResource("10_rmwyp")]
visible = false
offset_left = 57.0
offset_top = 5.0
offset_right = 57.0
offset_bottom = 5.0

[node name="Godrays" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_0bq84")
offset_left = -672.0
offset_top = -248.0
offset_right = -208.0
offset_bottom = 120.0

[node name="Rain" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_cdr1k")
offset_left = -256.0
offset_top = -232.0
offset_right = 96.0
offset_bottom = -24.0
color = Color(1, 1, 1, 0)

[node name="Lights" type="Node" parent="."]
script = ExtResource("13_xqgmf")

[node name="Light" parent="Lights" instance=ExtResource("14_glquh")]
position = Vector2(80, 552)

[node name="Light2" parent="Lights" instance=ExtResource("14_glquh")]
position = Vector2(416, 96)

[node name="Light3" parent="Lights" instance=ExtResource("14_glquh")]
position = Vector2(944, 872)

[node name="Light4" parent="Lights" instance=ExtResource("14_glquh")]
position = Vector2(1048, 928)

[node name="Light5" parent="Lights" instance=ExtResource("14_glquh")]
position = Vector2(1832, 928)

[node name="Light6" parent="Lights" instance=ExtResource("14_glquh")]
position = Vector2(1696, 296)

[node name="Light7" parent="Lights" instance=ExtResource("14_glquh")]
position = Vector2(1056, 104)

[node name="PotionUI" parent="." instance=ExtResource("21_pcxj0")]

[node name="Possessables" type="Node" parent="."]

[node name="Box" parent="Possessables" instance=ExtResource("22_0f1fg")]
position = Vector2(1504, 928)

[node name="PotionLogic" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("17_5xll2")

[node name="IngredientItem" parent="PotionLogic" instance=ExtResource("18_t7lhd")]
position = Vector2(168, 608)

[node name="IngredientItem2" parent="PotionLogic" instance=ExtResource("18_t7lhd")]
position = Vector2(864, 224)
texture = SubResource("CanvasTexture_27h57")

[node name="IngredientItem3" parent="PotionLogic" instance=ExtResource("18_t7lhd")]
position = Vector2(1120, 616)
texture = SubResource("CanvasTexture_81i1x")
